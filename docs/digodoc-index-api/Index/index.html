<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Index (digodoc-index-api.Index)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">digodoc-index-api</a> &#x00BB; Index</nav><header class="odoc-preamble"><h1>Module <code><span>Index</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#documentation">Documentation</a></li><li><a href="#sources">Sources</a></li><li><a href="#documentation_2">Documentation</a></li></ul></nav><div class="odoc-content"><p>Module that defines all indexation functions subsequent DB completion.</p><h2 id="documentation"><a href="#documentation" class="anchor"></a>Documentation</h2><div class="odoc-spec"><div class="spec value" id="val-docs_dir" class="anchored"><a href="#val-docs_dir" class="anchor"></a><code><span><span class="keyword">val</span> docs_dir : string</span></code></div><div class="spec-doc"><p>Documentation directory that will be indexated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-module_cut" class="anchored"><a href="#val-module_cut" class="anchor"></a><code><span><span class="keyword">val</span> module_cut : <span>string <span class="arrow">&#45;&gt;</span></span> string * string</span></code></div><div class="spec-doc"><p>Cuts module names that are formed <code>Packname__modulename</code> into <code>(Packname__modulename, modulename)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-pkg_of_opam" class="anchored"><a href="#val-pkg_of_opam" class="anchor"></a><code><span><span class="keyword">val</span> pkg_of_opam : <span><a href="../Data_types/index.html#type-opam_entry">Data_types.opam_entry</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>pkg_of_opam opam</code> computes the path to the directory that contains documentation for <code>opam</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pkg_of_lib" class="anchored"><a href="#val-pkg_of_lib" class="anchor"></a><code><span><span class="keyword">val</span> pkg_of_lib : <span><a href="../Data_types/index.html#type-library_entry">Data_types.library_entry</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>pkg_of_lib lib</code> computes the path to the directory that contains documentation for <code>lib</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pkg_of_mdl" class="anchored"><a href="#val-pkg_of_mdl" class="anchor"></a><code><span><span class="keyword">val</span> pkg_of_mdl : <span><a href="../Data_types/index.html#type-module_entry">Data_types.module_entry</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>pkg_of_mdl mdl</code> computes the path to the directory that contains documentation for <code>mdl</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-library_of_string" class="anchored"><a href="#val-library_of_string" class="anchor"></a><code><span><span class="keyword">val</span> library_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../Data_types/index.html#type-library_entry">Data_types.library_entry</a></span></code></div><div class="spec-doc"><p>Constructs <code>Data_types.library_entry</code> from string of form &quot;&lt;lib_name&gt;@&lt;lib_opam_name&gt;.&lt;lib_opam_version&gt;&quot;</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_entry" class="anchored"><a href="#val-read_entry" class="anchor"></a><code><span><span class="keyword">val</span> read_entry : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../Data_types/index.html#type-entry">Data_types.entry</a></span></code></div><div class="spec-doc"><p>Reads meta file ('ENTRY._') and returns <code>entry</code> corresponding to the content</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_val" class="anchored"><a href="#val-read_val" class="anchor"></a><code><span><span class="keyword">val</span> read_val : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p>Reads meta file ('VAL.MODULE._') and returns list of couples that describes the values (element of ocaml language). First element is value's name and second is its type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_opam_index" class="anchored"><a href="#val-fill_opam_index" class="anchor"></a><code><span><span class="keyword">val</span> fill_opam_index : <span><span><a href="../Data_types/index.html#type-entry">Data_types.entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Iterate over list of <code>entry</code> in order to fill DB table for packages.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_library_index" class="anchored"><a href="#val-fill_library_index" class="anchor"></a><code><span><span class="keyword">val</span> fill_library_index : <span><span><a href="../Data_types/index.html#type-entry">Data_types.entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Iterate over list of <code>entry</code> in order to fill DB table for librareis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_meta_index" class="anchored"><a href="#val-fill_meta_index" class="anchor"></a><code><span><span class="keyword">val</span> fill_meta_index : <span><span><a href="../Data_types/index.html#type-entry">Data_types.entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Iterate over list of <code>entry</code> in order to fill DB table for metas.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_module_index" class="anchored"><a href="#val-fill_module_index" class="anchor"></a><code><span><span class="keyword">val</span> fill_module_index : <span><span><a href="../Data_types/index.html#type-entry">Data_types.entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Iterate over list of <code>entry</code> in order to fill DB table for modules and modules' libraries.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_all_entries" class="anchored"><a href="#val-read_all_entries" class="anchor"></a><code><span><span class="keyword">val</span> read_all_entries : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="../Data_types/index.html#type-entry">Data_types.entry</a> list</span></span></code></div><div class="spec-doc"><p>Iterates over <code>docs_dir</code> directory and extracts all found information from meta files in order to create corresponding <code>entry</code>. Every module should have additional file 'VAL.MODULE._' that lists all module's values and their types.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-generate" class="anchored"><a href="#val-generate" class="anchor"></a><code><span><span class="keyword">val</span> generate : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><p>Main indexation function that indexates :</p><ul><li>packages</li><li>libraries</li><li>metas</li><li>modules with associated th them libraries</li><li>modules' values Sources aren't indexated because all information about them could be get from package entry. If indexation stage doesn't occur errors then returns true otherwise returns false.</li></ul><h2 id="sources"><a href="#sources" class="anchor"></a>Sources</h2><h2 id="documentation_2"><a href="#documentation_2" class="anchor"></a>Documentation</h2><div class="odoc-spec"><div class="spec value" id="val-sources_dir" class="anchored"><a href="#val-sources_dir" class="anchor"></a><code><span><span class="keyword">val</span> sources_dir : string</span></code></div><div class="spec-doc"><p>Sources directory that will be indexated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sources_db_dir" class="anchored"><a href="#val-sources_db_dir" class="anchor"></a><code><span><span class="keyword">val</span> sources_db_dir : string</span></code></div><div class="spec-doc"><p>Place where API will safe indexation artefacts</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sources_db_name" class="anchored"><a href="#val-sources_db_name" class="anchor"></a><code><span><span class="keyword">val</span> sources_db_name : string</span></code></div><div class="spec-doc"><p>Place where API will safe indexation artefacts</p></div></div><div class="odoc-spec"><div class="spec value" id="val-select_ocaml" class="anchored"><a href="#val-select_ocaml" class="anchor"></a><code><span><span class="keyword">val</span> select_ocaml : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Function that says if filename under the <code>path</code> is one of specific for OCaml files</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sources" class="anchored"><a href="#val-sources" class="anchor"></a><code><span><span class="keyword">val</span> sources : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Sources indexation function. Uses ```ez_search``` package that provides functionalities to create DB with sources and to make different type of search inside. If indexation stage doesn't occur errors then returns true otherwise returns false.</p></div></div></div></body></html>